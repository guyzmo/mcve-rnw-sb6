import React, { FC } from "react";
import {
  TouchableOpacity,
  TouchableOpacityProps,
  StyleProp,
  View,
  ViewStyle,
  TextStyle,
} from "react-native";
import { Icon } from "react-native-eva-icons";

import { Text } from "../Text/Text";

export interface ButtonProps extends TouchableOpacityProps {
  leftIcon?: string;
  leftIconColor?: Color;
  onPress: () => void;
  style?: ViewStyle;
}

export const Button: FC<ButtonProps> = ({
  leftIcon,
  leftIconColor = "basic",
  children,
  style,
  onPress,
  ...props
}) => {
  const { theme } = useTheme();
  const defaultStyle: StyleProp<ViewStyle> = {
    backgroundColor: theme.colors[color][shade],
    padding: theme.sizes.md,
    borderRadius: theme.sizes.md,
    display: "flex",
    flexDirection: "row",
    justifyContent: leftIcon ? "space-evenly" : "center",
    alignItems: "center",
  };

  const iconStyle: StyleProp<TextStyle> = {
    marginRight: theme.sizes.sm,
  };

  return (
    <TouchableOpacity onPress={onPress}>
      <View style={Object.assign({}, style, defaultStyle)} {...props}>
        {leftIcon && (
          <Icon
            width={50}
            height={50}
            name={leftIcon}
          />
        )}
        <Text centered uppercase >
          {children}
        </Text>
      </View>
    </TouchableOpacity>
  );
};

export default Button;
